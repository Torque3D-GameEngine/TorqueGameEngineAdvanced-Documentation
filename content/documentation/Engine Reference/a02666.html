<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/a02666.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:44:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 1579;
   parent.leftFrame.expandToItem('tree2', 'doc1579');
   var element = parent.leftFrame.document.getElementById('doc1579');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 1579;
   parent.leftFrame.expandToItem('tree2', 'doc1579');
   var element = parent.leftFrame.document.getElementById('doc1579');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TGEA: AtlasFile Class Reference</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td>


<!-- Generated by Doxygen 1.4.7 -->
<h1><br><small><a class="el" href="a04933.html"></a></small><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a>AtlasFile Class Reference  [Atlas Core]</h1><!-- doxytag: class="AtlasFile" --><!-- doxytag: inherits="ResourceInstance" --><code>#include &lt;atlasFile.h&gt;</code>
<p>
Inheritance diagram for AtlasFile:<p><center><img src="a05015.png" border="0" usemap="#a05016" alt="Inheritance graph"></center>
<map name="a05016">
<area href="a03648.html" shape="rect" coords="5,5,131,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="a00019.html">List of all members.</a><hr><a name="_details"></a><h2><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a>Detailed Description</h2>
Represents a single .atlas file; provides an interface for performing threaded reads and writes against that file, as well as tracking the TOCs in that file. 
<p>
It also deals with getting the resource system to play nice with Atlas. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#1435dc500409592ad2c5513ca585b66d">AtlasFile</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#6aca9fdc126a96ab309f1ffe711548f6">~AtlasFile</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#d27729182e593e93eeb25f328046ce56">registerTOC</a> (<a class="el" href="a02709.html">AtlasTOC</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a TOC to the file.  <a href="#d27729182e593e93eeb25f328046ce56"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;class T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a02666.html#cd4d038c5a805e5e2b6e44798a3d3786">getTocBySlot</a> (<a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> slot, T *&amp;toc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get TOC by slot.  <a href="#cd4d038c5a805e5e2b6e44798a3d3786"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#0fae3888662242ba3a78ceef2ddfb63f">open</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open file, read in TOCs, and get ready for threads to be started.  <a href="#0fae3888662242ba3a78ceef2ddfb63f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#999ec245287d7435a5b9b409a715695d">createNew</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new Atlas file with the currently loaded TOCs.  <a href="#999ec245287d7435a5b9b409a715695d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#fd089cb4bf42ebbbd6d0574d763879dc">optimize</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optimize to given path.  <a href="#fd089cb4bf42ebbbd6d0574d763879dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#6aa61c9090a3820309d6a97d05d90a93">startLoaderThreads</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#7d435fd48c7bed337acf99635356892d">stopLoaderThreads</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#8dc336cacc380be28911e277ff2c71e8">syncThreads</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Once loader threads have been started, make sure to call syncThreads every so often.  <a href="#8dc336cacc380be28911e277ff2c71e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a02662.html">AtlasDeferredFile</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#1c83227275dad84f0f7f385a481b2ec3">getDeferredFile</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get direct access to the <a class="el" href="a02662.html">AtlasDeferredFile</a>, useful for directly manipulating the <a class="el" href="a03937.html">Stream</a>.  <a href="#1c83227275dad84f0f7f385a481b2ec3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#3794923f87fb004e79a380d2cf2ff0e1">hasStream</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does our <a class="el" href="a02662.html">AtlasDeferredFile</a> have a stream associated with it? Mostly used for sanity checking.  <a href="#3794923f87fb004e79a380d2cf2ff0e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#7c8d8a267fca693de83e3464fac02ff5">queuePendingDeserialize</a> (<a class="el" href="a02695.html">AtlasReadNote</a> *arn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal callback from AtlasResourceTOC&lt;&gt;.  <a href="#7c8d8a267fca693de83e3464fac02ff5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#4357f476fe5b868cbfecea9e312388fe">waitForPendingWrites</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function - after you've done a bunch of writes, BEFORE you destroy the <a class="el" href="a02666.html">AtlasFile</a>, make sure to call this so everything gets flushed to disk.  <a href="#4357f476fe5b868cbfecea9e312388fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#32bf2a5f4d2f367cd19341c66ad3cd37">precache</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Spin until all of our load queues are empty and we've processed all pending items.  <a href="#32bf2a5f4d2f367cd19341c66ad3cd37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#db77dc50add1c0fea06c89c1b4241595">dumpLoadQueue</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump our current load priorities to the console, in the order we'll try to load them.  <a href="#db77dc50add1c0fea06c89c1b4241595"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#eabe80d3095fb4c31f7169b7ee6cc87c">getTOCCount</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a02709.html">AtlasTOC</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#7059d110e88901f2d570d92144a2c03e">getTOC</a> (<a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> index)</td></tr>

<tr><td colspan="2"><div class="groupHeader">IO Statistics</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#3849e6b46c5b83eca75fed6f340bd4b2">getIOStatus</a> (<a class="el" href="a02667.html">IOStatus</a> &amp;status)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current file I/O status.  <a href="#3849e6b46c5b83eca75fed6f340bd4b2"></a><br></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a03651.html">ResourceOld</a>&lt; <a class="el" href="a02666.html">AtlasFile</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#9b92f144fb416220602893427e095998">load</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do all loads through THIS method, not the <a class="el" href="a03649.html">ResourceManager</a>.  <a href="#9b92f144fb416220602893427e095998"></a><br></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#80528d82787619844b55dad69685d2f7">smDeserializerMaxLoadLimit</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The total amount of requests we allow to pile up in deserializer queue.  <a href="#80528d82787619844b55dad69685d2f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#6014e489e3dc9d6a33b1e91136a06276">smPipelineThrottleLimit</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If the desializer has fewer pending requests than this and the load queue is empty, we allow new requests to enter the pipeline.  <a href="#6014e489e3dc9d6a33b1e91136a06276"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#10f563f10062c9229e5071d0badc4e60">smLogStubLoadStatus</a></td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink5"></a><a name = "HeaderLink5"></a>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#ade38703c87e93f955caa3b768d50669">enqueueNextPendingLoad</a> (<a class="el" href="a04954.html">bool</a> waitTillNext=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function to make sure we've got another note in flight.  <a href="#ade38703c87e93f955caa3b768d50669"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#67d9221cfb71c09626df31ba4ae7a588">deserializerThread</a> ()</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink6"></a><a name = "HeaderLink6"></a>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#4f45ae35d27308bf0d1db613f158c82a">deserializerThunk</a> (<a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *d)</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink7"></a><a name = "HeaderLink7"></a>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a02662.html">AtlasDeferredFile</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#012cce29157fb1d35c1f67ac39ca2211">mFile</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">We actually manage the raw file IO with a subclass.  <a href="#012cce29157fb1d35c1f67ac39ca2211"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04055.html">Vector</a>&lt; <a class="el" href="a02709.html">AtlasTOC</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#1f06903988e39d5722348632c1316051">mTOCs</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of the TOCs which are present in this file, in order.  <a href="#1f06903988e39d5722348632c1316051"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02695.html">AtlasReadNote</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#4f6086caba2273e329a390976fa0fe94">mLoadingNotes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue of notes that have had processing started on them by the IO thread.  <a href="#4f6086caba2273e329a390976fa0fe94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02695.html">AtlasReadNote</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#0c2e74057023ea2ba4205cdc8b1490b7">mPendingLoadQueue</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue of notes that are awaiting processing by the IO thread.  <a href="#0c2e74057023ea2ba4205cdc8b1490b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02695.html">AtlasReadNote</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#eeadea33b731aac18012858a35892097">mPendingDeserializeQueue</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue of notes that are done with IO and awaiting deserialization.  <a href="#eeadea33b731aac18012858a35892097"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02695.html">AtlasReadNote</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#d02fc924e904930ea70d990e17e822fb">mPendingProcessQueue</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue of notes that are ready for processing by the main thread.  <a href="#d02fc924e904930ea70d990e17e822fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03984.html">Thread</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#820a82403c4aaddcb230332279e4f66e">mDeserializerThread</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The deserialization thread.  <a href="#820a82403c4aaddcb230332279e4f66e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#1802e57045ac6253461a1f328be49b08">mDeserializerThreadActive</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Control flag for the deserialization thread.  <a href="#1802e57045ac6253461a1f328be49b08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03706.html">Semaphore</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#90f28b36b711fc64a0c9aefb7c41bfba">mDeserializerSemaphore</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#510bd875c54cb967c09fc20fadb88a73">mLastSyncTime</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Track time of last sync() call.  <a href="#510bd875c54cb967c09fc20fadb88a73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#9449680eb5326041116fc7935e6392d9">mLastProcessedTOC</a></td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink8"></a><a name = "HeaderLink8"></a>Private Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="a03648.html">ResourceInstance</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#9922433b8e303056b4a08823c699d543">Parent</a></td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink9"></a><a name = "HeaderLink9"></a>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02666.html#adc6bfffa95cf83b9840fc17e70e49e8">AtlasTOC</a></td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink10"></a><a name = "HeaderLink10"></a>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html">IOStatus</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Information about the current I/O system status.  <a href="a02667.html#_details">More...</a><br></td></tr>
</table>
<hr><h2><a name = "HeaderLink11"></a><a name = "HeaderLink11"></a>Member Typedef Documentation</h2>
<a class="anchor" name="9922433b8e303056b4a08823c699d543"></a><!-- doxytag: member="AtlasFile::Parent" ref="9922433b8e303056b4a08823c699d543" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="a03648.html">ResourceInstance</a> <a class="el" href="a03648.html">AtlasFile::Parent</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink12"></a><a name = "HeaderLink12"></a>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1435dc500409592ad2c5513ca585b66d"></a><!-- doxytag: member="AtlasFile::AtlasFile" ref="1435dc500409592ad2c5513ca585b66d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtlasFile::AtlasFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6aca9fdc126a96ab309f1ffe711548f6"></a><!-- doxytag: member="AtlasFile::~AtlasFile" ref="6aca9fdc126a96ab309f1ffe711548f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtlasFile::~AtlasFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink13"></a><a name = "HeaderLink13"></a>Member Function Documentation</h2>
<a class="anchor" name="ade38703c87e93f955caa3b768d50669"></a><!-- doxytag: member="AtlasFile::enqueueNextPendingLoad" ref="ade38703c87e93f955caa3b768d50669" args="(bool waitTillNext=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::enqueueNextPendingLoad           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04954.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>waitTillNext</em> = <code>true</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function to make sure we've got another note in flight. 
<p>

</div>
</div><p>
<a class="anchor" name="67d9221cfb71c09626df31ba4ae7a588"></a><!-- doxytag: member="AtlasFile::deserializerThread" ref="67d9221cfb71c09626df31ba4ae7a588" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::deserializerThread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4f45ae35d27308bf0d1db613f158c82a"></a><!-- doxytag: member="AtlasFile::deserializerThunk" ref="4f45ae35d27308bf0d1db613f158c82a" args="(void *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::deserializerThunk           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3849e6b46c5b83eca75fed6f340bd4b2"></a><!-- doxytag: member="AtlasFile::getIOStatus" ref="3849e6b46c5b83eca75fed6f340bd4b2" args="(IOStatus &amp;status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::getIOStatus           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02667.html">IOStatus</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>status</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the current file I/O status. 
<p>

</div>
</div><p>
<a class="anchor" name="9b92f144fb416220602893427e095998"></a><!-- doxytag: member="AtlasFile::load" ref="9b92f144fb416220602893427e095998" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a03651.html">ResourceOld</a>&lt;<a class="el" href="a02666.html">AtlasFile</a>&gt; AtlasFile::load           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do all loads through THIS method, not the <a class="el" href="a03649.html">ResourceManager</a>. 
<p>
We rely on the <a class="el" href="a03649.html">ResourceManager</a> to track active Atlas instances and load/unload the <a class="el" href="a02666.html">AtlasFile</a> as needed, but in order to properly bind the <a class="el" href="a02666.html">AtlasFile</a> instance to the actual file, we have to bypass some parts what the <a class="el" href="a03649.html">ResourceManager</a> does. 
</div>
</div><p>
<a class="anchor" name="d27729182e593e93eeb25f328046ce56"></a><!-- doxytag: member="AtlasFile::registerTOC" ref="d27729182e593e93eeb25f328046ce56" args="(AtlasTOC *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::registerTOC           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02709.html">AtlasTOC</a> *&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a TOC to the file. 
<p>
This causes undefined (bad) results if you run it on a pre-existing file, as it can't insert new data into an active Atlas file. (It would have to move all the chunks down, which would be both tremendously slow and also difficult to orchestrate with loading threads active.) 
</div>
</div><p>
<a class="anchor" name="cd4d038c5a805e5e2b6e44798a3d3786"></a><!-- doxytag: member="AtlasFile::getTocBySlot" ref="cd4d038c5a805e5e2b6e44798a3d3786" args="(U32 slot, T *&amp;toc)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasFile::getTocBySlot           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td>
          <td class="paramname"> <em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;&nbsp;</td>
          <td class="paramname"> <em>toc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get TOC by slot. 
<p>
This is typed so you always get the right sort of TOC. Slot order is important, and reflects the order the TOCs are written.<p>
Basically, the slot-th toc of a given type is the slot-th TOC of that type which was written to the file. So a file might have a slot 0 geometry TOC, and then texture TOCs in slots 0 and 1 (for opacity maps and a lightmap). (In this scenario, their write order might be opacity map, geometry, lightmap - but we only consider TOCs of the same type when identifying slot order.) 
</div>
</div><p>
<a class="anchor" name="0fae3888662242ba3a78ceef2ddfb63f"></a><!-- doxytag: member="AtlasFile::open" ref="0fae3888662242ba3a78ceef2ddfb63f" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasFile::open           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open file, read in TOCs, and get ready for threads to be started. 
<p>

</div>
</div><p>
<a class="anchor" name="999ec245287d7435a5b9b409a715695d"></a><!-- doxytag: member="AtlasFile::createNew" ref="999ec245287d7435a5b9b409a715695d" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasFile::createNew           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new Atlas file with the currently loaded TOCs. 
<p>
Atlas file construction works off of this pattern: 1. Allocate a new <a class="el" href="a02666.html">AtlasFile</a>. 2. Create all TOCs. 3. Call registerTOC on them. 4. <a class="el" href="a02666.html#999ec245287d7435a5b9b409a715695d">createNew()</a>. 
</div>
</div><p>
<a class="anchor" name="fd089cb4bf42ebbbd6d0574d763879dc"></a><!-- doxytag: member="AtlasFile::optimize" ref="fd089cb4bf42ebbbd6d0574d763879dc" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasFile::optimize           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Optimize to given path. 
<p>
Optimization entails writing the file from scratch, respecting the optimizeOrder of the stubs. This has two results. First, you get rid of any old chunk data. Second, it lets you optimize chunk order to reflect file IO patterns.
</div>
</div><p>
<a class="anchor" name="6aa61c9090a3820309d6a97d05d90a93"></a><!-- doxytag: member="AtlasFile::startLoaderThreads" ref="6aa61c9090a3820309d6a97d05d90a93" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::startLoaderThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7d435fd48c7bed337acf99635356892d"></a><!-- doxytag: member="AtlasFile::stopLoaderThreads" ref="7d435fd48c7bed337acf99635356892d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::stopLoaderThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8dc336cacc380be28911e277ff2c71e8"></a><!-- doxytag: member="AtlasFile::syncThreads" ref="8dc336cacc380be28911e277ff2c71e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::syncThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Once loader threads have been started, make sure to call syncThreads every so often. 
<p>
This synchronizes with the <a class="el" href="a02662.html">AtlasDeferredFile</a>, with the various TOCs in this file, and does final loading steps.<p>
But as it happens you DON'T have to call this if all you're doing is writing.<p>
You want to call this about once a frame in a runtime situation. 
</div>
</div><p>
<a class="anchor" name="1c83227275dad84f0f7f385a481b2ec3"></a><!-- doxytag: member="AtlasFile::getDeferredFile" ref="1c83227275dad84f0f7f385a481b2ec3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02662.html">AtlasDeferredFile</a>&amp; AtlasFile::getDeferredFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get direct access to the <a class="el" href="a02662.html">AtlasDeferredFile</a>, useful for directly manipulating the <a class="el" href="a03937.html">Stream</a>. 
<p>

</div>
</div><p>
<a class="anchor" name="3794923f87fb004e79a380d2cf2ff0e1"></a><!-- doxytag: member="AtlasFile::hasStream" ref="3794923f87fb004e79a380d2cf2ff0e1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04954.html">bool</a> AtlasFile::hasStream           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Does our <a class="el" href="a02662.html">AtlasDeferredFile</a> have a stream associated with it? Mostly used for sanity checking. 
<p>

</div>
</div><p>
<a class="anchor" name="7c8d8a267fca693de83e3464fac02ff5"></a><!-- doxytag: member="AtlasFile::queuePendingDeserialize" ref="7c8d8a267fca693de83e3464fac02ff5" args="(AtlasReadNote *arn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::queuePendingDeserialize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02695.html">AtlasReadNote</a> *&nbsp;</td>
          <td class="paramname"> <em>arn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Internal callback from AtlasResourceTOC&lt;&gt;. 
<p>

</div>
</div><p>
<a class="anchor" name="4357f476fe5b868cbfecea9e312388fe"></a><!-- doxytag: member="AtlasFile::waitForPendingWrites" ref="4357f476fe5b868cbfecea9e312388fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::waitForPendingWrites           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function - after you've done a bunch of writes, BEFORE you destroy the <a class="el" href="a02666.html">AtlasFile</a>, make sure to call this so everything gets flushed to disk. 
<p>
Otherwise you're likely to kill any in-flight writes.<p>
The Atlas file should stay uncorrupted (unless you manage to kill it in the middle of a write, which is fairly unlikely since all writes are atomic OS IO calls), but not calling this guy when you're done writing to an Atlas file is a good way to have missing data. 
</div>
</div><p>
<a class="anchor" name="32bf2a5f4d2f367cd19341c66ad3cd37"></a><!-- doxytag: member="AtlasFile::precache" ref="32bf2a5f4d2f367cd19341c66ad3cd37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::precache           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Spin until all of our load queues are empty and we've processed all pending items. 
<p>

</div>
</div><p>
<a class="anchor" name="db77dc50add1c0fea06c89c1b4241595"></a><!-- doxytag: member="AtlasFile::dumpLoadQueue" ref="db77dc50add1c0fea06c89c1b4241595" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasFile::dumpLoadQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dump our current load priorities to the console, in the order we'll try to load them. 
<p>

</div>
</div><p>
<a class="anchor" name="eabe80d3095fb4c31f7169b7ee6cc87c"></a><!-- doxytag: member="AtlasFile::getTOCCount" ref="eabe80d3095fb4c31f7169b7ee6cc87c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> AtlasFile::getTOCCount           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7059d110e88901f2d570d92144a2c03e"></a><!-- doxytag: member="AtlasFile::getTOC" ref="7059d110e88901f2d570d92144a2c03e" args="(U32 index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02709.html">AtlasTOC</a>* AtlasFile::getTOC           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink14"></a><a name = "HeaderLink14"></a>Friends And Related Function Documentation</h2>
<a class="anchor" name="adc6bfffa95cf83b9840fc17e70e49e8"></a><!-- doxytag: member="AtlasFile::AtlasTOC" ref="adc6bfffa95cf83b9840fc17e70e49e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a02709.html">AtlasTOC</a><code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink15"></a><a name = "HeaderLink15"></a>Member Data Documentation</h2>
<a class="anchor" name="012cce29157fb1d35c1f67ac39ca2211"></a><!-- doxytag: member="AtlasFile::mFile" ref="012cce29157fb1d35c1f67ac39ca2211" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02662.html">AtlasDeferredFile</a> <a class="el" href="a02666.html#012cce29157fb1d35c1f67ac39ca2211">AtlasFile::mFile</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
We actually manage the raw file IO with a subclass. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a02662.html">AtlasDeferredFile</a> <a class="el" href="a04649.html#ad3a54ef5fb260160ec7493483246022">for</a> more information. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1f06903988e39d5722348632c1316051"></a><!-- doxytag: member="AtlasFile::mTOCs" ref="1f06903988e39d5722348632c1316051" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04055.html">Vector</a>&lt;<a class="el" href="a02709.html">AtlasTOC</a>*&gt; <a class="el" href="a02666.html#1f06903988e39d5722348632c1316051">AtlasFile::mTOCs</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
List of the TOCs which are present in this file, in order. 
<p>

</div>
</div><p>
<a class="anchor" name="4f6086caba2273e329a390976fa0fe94"></a><!-- doxytag: member="AtlasFile::mLoadingNotes" ref="4f6086caba2273e329a390976fa0fe94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02695.html">AtlasReadNote</a>*&gt; <a class="el" href="a02666.html#4f6086caba2273e329a390976fa0fe94">AtlasFile::mLoadingNotes</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue of notes that have had processing started on them by the IO thread. 
<p>

</div>
</div><p>
<a class="anchor" name="0c2e74057023ea2ba4205cdc8b1490b7"></a><!-- doxytag: member="AtlasFile::mPendingLoadQueue" ref="0c2e74057023ea2ba4205cdc8b1490b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02695.html">AtlasReadNote</a>*&gt; <a class="el" href="a02666.html#0c2e74057023ea2ba4205cdc8b1490b7">AtlasFile::mPendingLoadQueue</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue of notes that are awaiting processing by the IO thread. 
<p>

</div>
</div><p>
<a class="anchor" name="eeadea33b731aac18012858a35892097"></a><!-- doxytag: member="AtlasFile::mPendingDeserializeQueue" ref="eeadea33b731aac18012858a35892097" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02695.html">AtlasReadNote</a>*&gt; <a class="el" href="a02666.html#eeadea33b731aac18012858a35892097">AtlasFile::mPendingDeserializeQueue</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue of notes that are done with IO and awaiting deserialization. 
<p>

</div>
</div><p>
<a class="anchor" name="d02fc924e904930ea70d990e17e822fb"></a><!-- doxytag: member="AtlasFile::mPendingProcessQueue" ref="d02fc924e904930ea70d990e17e822fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02695.html">AtlasReadNote</a>*&gt; <a class="el" href="a02666.html#d02fc924e904930ea70d990e17e822fb">AtlasFile::mPendingProcessQueue</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue of notes that are ready for processing by the main thread. 
<p>

</div>
</div><p>
<a class="anchor" name="820a82403c4aaddcb230332279e4f66e"></a><!-- doxytag: member="AtlasFile::mDeserializerThread" ref="820a82403c4aaddcb230332279e4f66e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03984.html">Thread</a>* <a class="el" href="a02666.html#820a82403c4aaddcb230332279e4f66e">AtlasFile::mDeserializerThread</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The deserialization thread. 
<p>
This thread is responsible for performing the appropriate deserialization on raw data once it is read from disk, and queuing it for instatement.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a02666.html#67d9221cfb71c09626df31ba4ae7a588">deserializerThread</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="1802e57045ac6253461a1f328be49b08"></a><!-- doxytag: member="AtlasFile::mDeserializerThreadActive" ref="1802e57045ac6253461a1f328be49b08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a04954.html">bool</a> <a class="el" href="a02666.html#1802e57045ac6253461a1f328be49b08">AtlasFile::mDeserializerThreadActive</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Control flag for the deserialization thread. 
<p>

</div>
</div><p>
<a class="anchor" name="90f28b36b711fc64a0c9aefb7c41bfba"></a><!-- doxytag: member="AtlasFile::mDeserializerSemaphore" ref="90f28b36b711fc64a0c9aefb7c41bfba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03706.html">Semaphore</a>* <a class="el" href="a02666.html#90f28b36b711fc64a0c9aefb7c41bfba">AtlasFile::mDeserializerSemaphore</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="510bd875c54cb967c09fc20fadb88a73"></a><!-- doxytag: member="AtlasFile::mLastSyncTime" ref="510bd875c54cb967c09fc20fadb88a73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02666.html#510bd875c54cb967c09fc20fadb88a73">AtlasFile::mLastSyncTime</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Track time of last sync() call. 
<p>

</div>
</div><p>
<a class="anchor" name="9449680eb5326041116fc7935e6392d9"></a><!-- doxytag: member="AtlasFile::mLastProcessedTOC" ref="9449680eb5326041116fc7935e6392d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02666.html#9449680eb5326041116fc7935e6392d9">AtlasFile::mLastProcessedTOC</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="80528d82787619844b55dad69685d2f7"></a><!-- doxytag: member="AtlasFile::smDeserializerMaxLoadLimit" ref="80528d82787619844b55dad69685d2f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02666.html#80528d82787619844b55dad69685d2f7">AtlasFile::smDeserializerMaxLoadLimit</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The total amount of requests we allow to pile up in deserializer queue. 
<p>

</div>
</div><p>
<a class="anchor" name="6014e489e3dc9d6a33b1e91136a06276"></a><!-- doxytag: member="AtlasFile::smPipelineThrottleLimit" ref="6014e489e3dc9d6a33b1e91136a06276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04655.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02666.html#6014e489e3dc9d6a33b1e91136a06276">AtlasFile::smPipelineThrottleLimit</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the desializer has fewer pending requests than this and the load queue is empty, we allow new requests to enter the pipeline. 
<p>

</div>
</div><p>
<a class="anchor" name="10f563f10062c9229e5071d0badc4e60"></a><!-- doxytag: member="AtlasFile::smLogStubLoadStatus" ref="10f563f10062c9229e5071d0badc4e60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> <a class="el" href="a02666.html#10f563f10062c9229e5071d0badc4e60">AtlasFile::smLogStubLoadStatus</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
  </td>
</tr>
</table>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div><div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/a02666.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:44:16 GMT -->
</html>
