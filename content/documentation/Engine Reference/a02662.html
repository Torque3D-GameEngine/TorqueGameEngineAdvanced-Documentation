<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/a02662.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:38:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 1575;
   parent.leftFrame.expandToItem('tree2', 'doc1575');
   var element = parent.leftFrame.document.getElementById('doc1575');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 1575;
   parent.leftFrame.expandToItem('tree2', 'doc1575');
   var element = parent.leftFrame.document.getElementById('doc1575');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TGEA: AtlasDeferredFile Class Reference</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td>


<!-- Generated by Doxygen 1.4.7 -->
<h1><br><small><a class="el" href="a04933.html"></a></small><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a>AtlasDeferredFile Class Reference  [Atlas Core]</h1><!-- doxytag: class="AtlasDeferredFile" --><code>#include &lt;atlasDeferredFile.h&gt;</code>
<p>
<a href="a00016.html">List of all members.</a><hr><a name="_details"></a><h2><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a>Detailed Description</h2>
Basic background IO implementation for Atlas files. 
<p>
This class is responsible for executing requests described by <a class="el" href="a02663.html">AtlasDeferredIO</a> structures.<p>
It also provides a mechanism for acquiring the file's stream exclusively, and allowing other code to do IO on that stream, without disturbing the deferred IO tasks. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#9d09eedca9ff73a1d65fb7bc2a8826ce">AtlasDeferredFile</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#08bb13cf391184d77fe5c921c9e6133f">~AtlasDeferredFile</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#1fe8d8144e319595631d99febc02f42d">initStream</a> (const char *filename, <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a04728.html#ca0ba9e6853cd0ad61d52d3c6a2973cc">mode</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize access to a specified file, with the appropriate IO mode.  <a href="#1fe8d8144e319595631d99febc02f42d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#454df93cef8961cd708961544bf2c197">start</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the deferred IO thread.  <a href="#454df93cef8961cd708961544bf2c197"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#0d22c7a0efe849951a7f11dc23f236f3">stop</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop the deferred IO thread.  <a href="#0d22c7a0efe849951a7f11dc23f236f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#9bb39d2648e68c7027b922940c5d2118">sync</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Synch with the deferred IO thread and do appropriate callbacks for any finished IO operations, as described in the <a class="el" href="a02663.html">AtlasDeferredIO</a> class.  <a href="#9bb39d2648e68c7027b922940c5d2118"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#13508c30cc4d3e40b78639c5024ccf55">queue</a> (<a class="el" href="a02663.html">AtlasDeferredIO</a> *io)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue an ADIO.  <a href="#13508c30cc4d3e40b78639c5024ccf55"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#94f9d1985e5a1c79b0d4bfdd7bc82ee0">ensureStreamWritable</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make sure that we have acquired ability to write to stream.  <a href="#94f9d1985e5a1c79b0d4bfdd7bc82ee0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03937.html">Stream</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#ba073d2bd52eb71e81c1a6c813cda6f1">lockStream</a> (<a class="el" href="a04954.html">bool</a> needWrite=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the file stream for exclusive access. Don't forget to call <a class="el" href="a02662.html#5891884701bfb269c294c5ad7ae1685d">unlockStream()</a>!  <a href="#ba073d2bd52eb71e81c1a6c813cda6f1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#5891884701bfb269c294c5ad7ae1685d">unlockStream</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the stream after exclusive mode IO is completed.  <a href="#5891884701bfb269c294c5ad7ae1685d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#90f677d2e105d81129727487dd381ad3">hasStream</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do we currently have an active stream?  <a href="#90f677d2e105d81129727487dd381ad3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#a1b18f788ac53454d75761266b04d924">isLoading</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if we currently have an IO activity going on.  <a href="#a1b18f788ac53454d75761266b04d924"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#5baf494b6127a636d0a38881ac574d4a">getLoadingMutex</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#dcd9148f4b126c7e451d83ce1a67fe37">hasPendingIO</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if we have any pending or in-process IO operations.  <a href="#dcd9148f4b126c7e451d83ce1a67fe37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#43fcea9b49ae5d573171c204ef121ef9">getTimeSpentWorking</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the time in ms that the IO thread has spent working.  <a href="#43fcea9b49ae5d573171c204ef121ef9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#1eadf5bb136c83d1a10febc23d04e3a3">getTimeSpentWaiting</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the time in ms that the IO thread has spent waiting.  <a href="#1eadf5bb136c83d1a10febc23d04e3a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#aa1da7d6550002275ccfdb98844c950d">getLoadOperationsCompleted</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of operation the background thread has completed.  <a href="#aa1da7d6550002275ccfdb98844c950d"></a><br></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#3fdf3475219985c38f9be50f227b21a9">loaderThread</a> ()</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a>Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#787a5e39cef7c22e241468ac3e29ff63">loaderThunk</a> (<a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *a)</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink5"></a><a name = "HeaderLink5"></a>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#2471d6ecffa978a219ddc96bd361fd03">mFilename</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#67b1402f597afe1f716ccd0d41806236">mStreamMutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03937.html">Stream</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#d9bd1f884b56df303ebf126e18546d87">mStream</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02663.html">AtlasDeferredIO</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#0648dd9d9a77b977fee1d28e7e1a8e18">mDeferredRequestQueue</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt; <a class="el" href="a02663.html">AtlasDeferredIO</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#a277a305caf2dbebad95543de06bdf39">mDeferredResultQueue</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#5c1414136051cbc2b5a6bbf94b8e5c66">mCanWriteStream</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#9761ec4f41f91d80ac3dc4221f885ee5">mLoadingMutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03706.html">Semaphore</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#7abc4aeb01f4701fce492fedd12d2bc4">mLoadingSemaphore</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a03984.html">Thread</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#7c3a46ddf5bedc8696bb7f1eea2b2438">mDeferredLoaderThread</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a04954.html">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#58f19bce9c17a0956e533cf30e39bfc8">mDeferredLoaderThreadActive</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#c7e60c5cb0ed5937f35fccae0ad79e5b">mTimeSpentWorking</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#d0b9700edaf87c64f4148fe8b85d67d3">mTimeSpentWaiting</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02662.html#5a0d3feac2f561353a357126a723ef03">mLoadOperationsCompleted</a></td></tr>

</table>
<hr><h2><a name = "HeaderLink6"></a><a name = "HeaderLink6"></a>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9d09eedca9ff73a1d65fb7bc2a8826ce"></a><!-- doxytag: member="AtlasDeferredFile::AtlasDeferredFile" ref="9d09eedca9ff73a1d65fb7bc2a8826ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtlasDeferredFile::AtlasDeferredFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="08bb13cf391184d77fe5c921c9e6133f"></a><!-- doxytag: member="AtlasDeferredFile::~AtlasDeferredFile" ref="08bb13cf391184d77fe5c921c9e6133f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtlasDeferredFile::~AtlasDeferredFile           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink7"></a><a name = "HeaderLink7"></a>Member Function Documentation</h2>
<a class="anchor" name="787a5e39cef7c22e241468ac3e29ff63"></a><!-- doxytag: member="AtlasDeferredFile::loaderThunk" ref="787a5e39cef7c22e241468ac3e29ff63" args="(void *a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::loaderThunk           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3fdf3475219985c38f9be50f227b21a9"></a><!-- doxytag: member="AtlasDeferredFile::loaderThread" ref="3fdf3475219985c38f9be50f227b21a9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::loaderThread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1fe8d8144e319595631d99febc02f42d"></a><!-- doxytag: member="AtlasDeferredFile::initStream" ref="1fe8d8144e319595631d99febc02f42d" args="(const char *filename, U32 mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasDeferredFile::initStream           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize access to a specified file, with the appropriate IO mode. 
<p>

</div>
</div><p>
<a class="anchor" name="454df93cef8961cd708961544bf2c197"></a><!-- doxytag: member="AtlasDeferredFile::start" ref="454df93cef8961cd708961544bf2c197" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::start           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the deferred IO thread. 
<p>

</div>
</div><p>
<a class="anchor" name="0d22c7a0efe849951a7f11dc23f236f3"></a><!-- doxytag: member="AtlasDeferredFile::stop" ref="0d22c7a0efe849951a7f11dc23f236f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::stop           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop the deferred IO thread. 
<p>

</div>
</div><p>
<a class="anchor" name="9bb39d2648e68c7027b922940c5d2118"></a><!-- doxytag: member="AtlasDeferredFile::sync" ref="9bb39d2648e68c7027b922940c5d2118" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::sync           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Synch with the deferred IO thread and do appropriate callbacks for any finished IO operations, as described in the <a class="el" href="a02663.html">AtlasDeferredIO</a> class. 
<p>

</div>
</div><p>
<a class="anchor" name="13508c30cc4d3e40b78639c5024ccf55"></a><!-- doxytag: member="AtlasDeferredFile::queue" ref="13508c30cc4d3e40b78639c5024ccf55" args="(AtlasDeferredIO *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::queue           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a02663.html">AtlasDeferredIO</a> *&nbsp;</td>
          <td class="paramname"> <em>io</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queue an ADIO. 
<p>

</div>
</div><p>
<a class="anchor" name="94f9d1985e5a1c79b0d4bfdd7bc82ee0"></a><!-- doxytag: member="AtlasDeferredFile::ensureStreamWritable" ref="94f9d1985e5a1c79b0d4bfdd7bc82ee0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::ensureStreamWritable           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make sure that we have acquired ability to write to stream. 
<p>

</div>
</div><p>
<a class="anchor" name="ba073d2bd52eb71e81c1a6c813cda6f1"></a><!-- doxytag: member="AtlasDeferredFile::lockStream" ref="ba073d2bd52eb71e81c1a6c813cda6f1" args="(bool needWrite=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03937.html">Stream</a>* AtlasDeferredFile::lockStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04954.html">bool</a>&nbsp;</td>
          <td class="paramname"> <em>needWrite</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the file stream for exclusive access. Don't forget to call <a class="el" href="a02662.html#5891884701bfb269c294c5ad7ae1685d">unlockStream()</a>! 
<p>

</div>
</div><p>
<a class="anchor" name="5891884701bfb269c294c5ad7ae1685d"></a><!-- doxytag: member="AtlasDeferredFile::unlockStream" ref="5891884701bfb269c294c5ad7ae1685d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a> AtlasDeferredFile::unlockStream           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unlock the stream after exclusive mode IO is completed. 
<p>

</div>
</div><p>
<a class="anchor" name="90f677d2e105d81129727487dd381ad3"></a><!-- doxytag: member="AtlasDeferredFile::hasStream" ref="90f677d2e105d81129727487dd381ad3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04954.html">bool</a> AtlasDeferredFile::hasStream           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do we currently have an active stream? 
<p>

</div>
</div><p>
<a class="anchor" name="a1b18f788ac53454d75761266b04d924"></a><!-- doxytag: member="AtlasDeferredFile::isLoading" ref="a1b18f788ac53454d75761266b04d924" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasDeferredFile::isLoading           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if we currently have an IO activity going on. 
<p>

</div>
</div><p>
<a class="anchor" name="5baf494b6127a636d0a38881ac574d4a"></a><!-- doxytag: member="AtlasDeferredFile::getLoadingMutex" ref="5baf494b6127a636d0a38881ac574d4a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>* AtlasDeferredFile::getLoadingMutex           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="dcd9148f4b126c7e451d83ce1a67fe37"></a><!-- doxytag: member="AtlasDeferredFile::hasPendingIO" ref="dcd9148f4b126c7e451d83ce1a67fe37" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> AtlasDeferredFile::hasPendingIO           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if we have any pending or in-process IO operations. 
<p>

</div>
</div><p>
<a class="anchor" name="43fcea9b49ae5d573171c204ef121ef9"></a><!-- doxytag: member="AtlasDeferredFile::getTimeSpentWorking" ref="43fcea9b49ae5d573171c204ef121ef9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> AtlasDeferredFile::getTimeSpentWorking           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the time in ms that the IO thread has spent working. 
<p>

</div>
</div><p>
<a class="anchor" name="1eadf5bb136c83d1a10febc23d04e3a3"></a><!-- doxytag: member="AtlasDeferredFile::getTimeSpentWaiting" ref="1eadf5bb136c83d1a10febc23d04e3a3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> AtlasDeferredFile::getTimeSpentWaiting           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the time in ms that the IO thread has spent waiting. 
<p>

</div>
</div><p>
<a class="anchor" name="aa1da7d6550002275ccfdb98844c950d"></a><!-- doxytag: member="AtlasDeferredFile::getLoadOperationsCompleted" ref="aa1da7d6550002275ccfdb98844c950d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> AtlasDeferredFile::getLoadOperationsCompleted           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the number of operation the background thread has completed. 
<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink8"></a><a name = "HeaderLink8"></a>Member Data Documentation</h2>
<a class="anchor" name="2471d6ecffa978a219ddc96bd361fd03"></a><!-- doxytag: member="AtlasDeferredFile::mFilename" ref="2471d6ecffa978a219ddc96bd361fd03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="a02662.html#2471d6ecffa978a219ddc96bd361fd03">AtlasDeferredFile::mFilename</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="67b1402f597afe1f716ccd0d41806236"></a><!-- doxytag: member="AtlasDeferredFile::mStreamMutex" ref="67b1402f597afe1f716ccd0d41806236" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>* <a class="el" href="a02662.html#67b1402f597afe1f716ccd0d41806236">AtlasDeferredFile::mStreamMutex</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d9bd1f884b56df303ebf126e18546d87"></a><!-- doxytag: member="AtlasDeferredFile::mStream" ref="d9bd1f884b56df303ebf126e18546d87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03937.html">Stream</a>* <a class="el" href="a02662.html#d9bd1f884b56df303ebf126e18546d87">AtlasDeferredFile::mStream</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0648dd9d9a77b977fee1d28e7e1a8e18"></a><!-- doxytag: member="AtlasDeferredFile::mDeferredRequestQueue" ref="0648dd9d9a77b977fee1d28e7e1a8e18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02663.html">AtlasDeferredIO</a>*&gt; <a class="el" href="a02662.html#0648dd9d9a77b977fee1d28e7e1a8e18">AtlasDeferredFile::mDeferredRequestQueue</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a277a305caf2dbebad95543de06bdf39"></a><!-- doxytag: member="AtlasDeferredFile::mDeferredResultQueue" ref="a277a305caf2dbebad95543de06bdf39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03986.html">ThreadSafeQueue</a>&lt;<a class="el" href="a02663.html">AtlasDeferredIO</a>*&gt; <a class="el" href="a02662.html#a277a305caf2dbebad95543de06bdf39">AtlasDeferredFile::mDeferredResultQueue</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5c1414136051cbc2b5a6bbf94b8e5c66"></a><!-- doxytag: member="AtlasDeferredFile::mCanWriteStream" ref="5c1414136051cbc2b5a6bbf94b8e5c66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04954.html">bool</a> <a class="el" href="a02662.html#5c1414136051cbc2b5a6bbf94b8e5c66">AtlasDeferredFile::mCanWriteStream</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9761ec4f41f91d80ac3dc4221f885ee5"></a><!-- doxytag: member="AtlasDeferredFile::mLoadingMutex" ref="9761ec4f41f91d80ac3dc4221f885ee5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04909.html#80aca66f10d7fcb78d09f20cdf4490bc">void</a>* <a class="el" href="a02662.html#9761ec4f41f91d80ac3dc4221f885ee5">AtlasDeferredFile::mLoadingMutex</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7abc4aeb01f4701fce492fedd12d2bc4"></a><!-- doxytag: member="AtlasDeferredFile::mLoadingSemaphore" ref="7abc4aeb01f4701fce492fedd12d2bc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03706.html">Semaphore</a>* <a class="el" href="a02662.html#7abc4aeb01f4701fce492fedd12d2bc4">AtlasDeferredFile::mLoadingSemaphore</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7c3a46ddf5bedc8696bb7f1eea2b2438"></a><!-- doxytag: member="AtlasDeferredFile::mDeferredLoaderThread" ref="7c3a46ddf5bedc8696bb7f1eea2b2438" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a03984.html">Thread</a>* <a class="el" href="a02662.html#7c3a46ddf5bedc8696bb7f1eea2b2438">AtlasDeferredFile::mDeferredLoaderThread</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="58f19bce9c17a0956e533cf30e39bfc8"></a><!-- doxytag: member="AtlasDeferredFile::mDeferredLoaderThreadActive" ref="58f19bce9c17a0956e533cf30e39bfc8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a04954.html">bool</a> <a class="el" href="a02662.html#58f19bce9c17a0956e533cf30e39bfc8">AtlasDeferredFile::mDeferredLoaderThreadActive</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c7e60c5cb0ed5937f35fccae0ad79e5b"></a><!-- doxytag: member="AtlasDeferredFile::mTimeSpentWorking" ref="c7e60c5cb0ed5937f35fccae0ad79e5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02662.html#c7e60c5cb0ed5937f35fccae0ad79e5b">AtlasDeferredFile::mTimeSpentWorking</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d0b9700edaf87c64f4148fe8b85d67d3"></a><!-- doxytag: member="AtlasDeferredFile::mTimeSpentWaiting" ref="d0b9700edaf87c64f4148fe8b85d67d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02662.html#d0b9700edaf87c64f4148fe8b85d67d3">AtlasDeferredFile::mTimeSpentWaiting</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5a0d3feac2f561353a357126a723ef03"></a><!-- doxytag: member="AtlasDeferredFile::mLoadOperationsCompleted" ref="5a0d3feac2f561353a357126a723ef03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="a04645.html#c3df7cf3c8cb172a588adec881447d68">U32</a> <a class="el" href="a02662.html#5a0d3feac2f561353a357126a723ef03">AtlasDeferredFile::mLoadOperationsCompleted</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
  </td>
</tr>
</table>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div><div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/a02662.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:38:45 GMT -->
</html>
