<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/console_autodoc.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:37:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 3873;
   parent.leftFrame.expandToItem('tree2', 'doc3873');
   var element = parent.leftFrame.document.getElementById('doc3873');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 3873;
   parent.leftFrame.expandToItem('tree2', 'doc3873');
   var element = parent.leftFrame.document.getElementById('doc3873');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TGEA: Console Auto-Documentation</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td>


<!-- Generated by Doxygen 1.4.7 -->
<h1><a class="anchor" name="console_autodoc"></a><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a>Console Auto-Documentation</h1><dl compact><dt><b>See also:</b></dt><dd>consoleDoc.cc</dd></dl>
<h2><a class="anchor" name="console_autodoc_using"></a><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a>Using Console Auto-Documentation</h2>
There are on the order of three hundred functions exposed to the script language through the console. It is therefore extremely important that they be documented, but due to their number, it is difficult to maintain a seperate reference document.<p>
Therefore, a simple documentation system has been built into the scripting engine. It was initially added by Mark Frohnmayer, and later enhanced by Ben Garney. The scripting engine supports grouping functions and methods, to help organize the several hundred functions, as well as associating a "usage string" with functions and groups.<p>
<dl compact><dt><b>Note:</b></dt><dd>The results of a console doc dump will vary depending on when you run it. If you run it, for example, while in the game menu, it won't output any data for the script-defined classes which are defined for gameplay. To get comprehensive documentation, you may need to write a special script that will get all your classes loaded into the scripting engine.</dd></dl>
The console documentation system is designed to output a dump of the current state of the scripting engine in a format understandable by Doxygen. It does this by traversing the namespace/class hierarchy in memory at the time of the dump, and outputting psuedo-C++ code equivalent to this class hierarchy.<h3><a class="anchor" name="console_autodoc_using_script"></a><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a>For the Scripter...</h3>
Currently, there is no way to associate usage strings or other documentation with script code like you can with C++ code.<p>
You can get a list of all the methods and fields of an object from any object which inherits from <a class="el" href="a03881.html">SimObject</a> (ie, every object), as well as the documentation on those objects by using the dump() method from the console:<p>
<div class="fragment"><pre class="fragment"> ==&gt;$foo = <span class="keyword">new</span> <a class="code" href="a03881.html">SimObject</a>();
 ==&gt;$foo.dump();
 Member Fields:
 Tagged Fields:
 Methods:
   <span class="keyword">delete</span>() - obj.delete()
   dump() - obj.dump()
   getClassName() - obj.getClassName()
   getGroup() - obj.getGroup()
   getId() - obj.getId()
   getName() - obj.getName()
   getType() - obj.getType()
   save() - obj.save(fileName, &lt;selectedOnly&gt;)
   schedule() - object.schedule(time, command, &lt;arg1...argN&gt;);
   setName() - obj.setName(newName)
</pre></div><p>
In the <a class="el" href="a04922.html">Torque</a> example app, there are two functions defined in common\client\scriptDoc.cs which automate the process of dumping the documentation. They make use of the <a class="el" href="a02817.html">ConsoleLogger</a> object to output the documentation to a file, and look like this:<p>
<dl compact><dt><b>Note:</b></dt><dd>You may want to add this code, or code like it, to your project if you have rewritten the script code in common.</dd></dl>
<div class="fragment"><pre class="fragment"> <span class="comment">// Writes out all script functions to a file</span>
 function writeOutFunctions() {
    <span class="keyword">new</span> <a class="code" href="a02817.html">ConsoleLogger</a>( logger, <span class="stringliteral">"ConsoleFunctions.txt"</span>, <span class="keyword">false</span> );
    dumpConsoleFunctions();
    logger.delete();
 }
 
 <span class="comment">// Writes out all script classes to a file</span>
 function writeOutClasses() {
    <span class="keyword">new</span> <a class="code" href="a02817.html">ConsoleLogger</a>( logger, <span class="stringliteral">"scriptClasses.txt"</span>, <span class="keyword">false</span> );
    dumpConsoleClasses();
    logger.delete();
 }
</pre></div><h3><a class="anchor" name="console_autodoc_using_coder"></a><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a>For the C++ Coder...</h3>
<dl compact><dt><b>Note:</b></dt><dd><b>It is of the utmost important that you keep your usage strings up to date!</b> Usage strings are the only way that a scripter has to know how to use the methods, functions, and variables you expose. Misleading, missing, or out of date documentation will make their lives much harder - and yours, too, because you'll have to keep explaining things to them! So make everyone's lives easier - keep your usage strings clear, concise, and up to date.</dd></dl>
There are four types of items which can be documented using the autodocumentation system:<ul>
<li><b>Fields</b>, which are defined using the addField() calls. They are documented by passing a string to the usage parameter.</li><li><b>Field groups</b>, which are defined using the beginGroup() and endGroup() calls. They are documented by passing a descriptive string to the usage parameter.</li><li><b>Method groups</b>, which are defined using <a class="el" href="a04221.html#e68f6764ee210a81e1f0e4fedadf6574">beginCommandGroup()</a>, <a class="el" href="a04221.html#6db0c391a74983640f0d43dc9df9bbff">endCommandGroup()</a>, <a class="el" href="a04220.html#bc3faab9e9adda3021c504e1b4c7bcb2">ConsoleMethodGroupEnd()</a>, <a class="el" href="a04220.html#7a117e28c1bc2697a0a4ad1593059a6a">ConsoleMethodGroupBegin()</a>, <a class="el" href="a04220.html#4e377eeb82700cb517a50360e232eaf7">ConsoleFunctionGroupEnd()</a>, and <a class="el" href="a04220.html#d27ea1a98673d56019a76094df7f02e0">ConsoleFunctionGroupBegin()</a>.</li><li><b>Methods and functions</b>, which are defined using either <a class="el" href="a04221.html#35949cc7481da53cf344645adab886ab">SimObject::addCommand()</a>, the <a class="el" href="a04220.html#895960cc654a25d5f612e0154dc0d134">ConsoleMethod()</a> macro, or the <a class="el" href="a04220.html#8a7e9e53fd6537ae26c8ed12abdfacf4">ConsoleFunction()</a> macro. Methods and functions are special in that the usage strings should be in a specific format, so that parameter information can be extracted from them and placed into the Doxygen output.</li></ul>
<p>
You can use standard Doxygen commands in your comments, to make the documentation clearer. Of particular use are @returns, @param, @note, and @deprecated.<p>
<b>Examples using global definitions.</b><p>
<div class="fragment"><pre class="fragment">    <span class="comment">// Example of using Doxygen commands.</span>
    <a class="code" href="a04220.html#8a7e9e53fd6537ae26c8ed12abdfacf4">ConsoleFunction</a>(alxGetWaveLen, <a class="code" href="a04645.html#57a2244776e01ad620c556de58eb7880">S32</a>, 2, 2, <span class="stringliteral">"(string filename)"</span>
                    <span class="stringliteral">"Get length of a wave file\n\n"</span>
                    <span class="stringliteral">"@param filename File to determine length of.\n"</span>
                    <span class="stringliteral">"@returns Length in milliseconds."</span>)

    <span class="comment">// A function group...</span>
    <a class="code" href="a04220.html#d27ea1a98673d56019a76094df7f02e0">ConsoleFunctionGroupBegin</a>(Example, "This is an example group! Notice that the name <a class="code" href="a04649.html#ad3a54ef5fb260160ec7493483246022">for</a> the group"
                                       "must be a valid identifier, due to limitations in the C preprocessor.");

    <span class="comment">// ConsoleFunction definitions go here.</span>

    <a class="code" href="a04220.html#4e377eeb82700cb517a50360e232eaf7">ConsoleFunctionGroupEnd</a>(Example);

    <span class="comment">// You can do similar things with methods...</span>
    <a class="code" href="a04220.html#7a117e28c1bc2697a0a4ad1593059a6a">ConsoleMethodGroupBegin</a>(<a class="code" href="a03889.html">SimSet</a>, UsefulFuncs, "Here are some useful functions involving a SimSet.");
    <a class="code" href="a04220.html#895960cc654a25d5f612e0154dc0d134">ConsoleMethod</a>(SimSet, listObjects, <span class="keywordtype">void</span>, 2, 2, "set.listObjects();")
    <a class="code" href="a04220.html#bc3faab9e9adda3021c504e1b4c7bcb2">ConsoleMethodGroupEnd</a>(SimSet, UsefulFuncs, "Here are some more useful functions involving a SimSet.");
</pre></div><p>
<b>Examples using addField</b><p>
<dl compact><dt><b>Note:</b></dt><dd>Using addCommand is strongly deprecated.</dd></dl>
<div class="fragment"><pre class="fragment">   <span class="comment">// Example of a field group.</span>
   addGroup( <span class="stringliteral">"Logging"</span>, <span class="stringliteral">"Things relating to logging."</span> );
   addField( <span class="stringliteral">"level"</span>,   TypeEnum,     <a class="code" href="a04228.html#660d8e8336a58d3d6950e2a638583056">Offset</a>( mLevel,    <a class="code" href="a02817.html">ConsoleLogger</a> ), 1, &amp;gLogLevelTable );
   endGroup( <span class="stringliteral">"Logging"</span> );
</pre></div><h2><a class="anchor" name="console_autodoc_makingdocs"></a><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a>How to Generate Console Docs</h2>
Console docs can be generated by running the dumpConsoleFunctions() and dumpConsoleClasses(), then running the output through Doxygen. There is an example Doxygen configuration file to do this in HEAD, at doc\doxygen\html\script_doxygen.html.cfg. Doxygen will parse the psuedo-C++ generated by the console doc code and produce a class hierarchy and documentation of the global namespace. You may need to tweak the paths in the configuration file slightly to reflect your individual setup.<h2><a class="anchor" name="console_autodoc_internals"></a><a name = "HeaderLink5"></a><a name = "HeaderLink5"></a>Console Auto-Documentation Internals</h2>
The consoleDoc system works by inserting "hidden" entries in <a class="el" href="a03467.html">Namespace</a> and <a class="el" href="a02627.html">AbstractClassRep</a>; these hidden entries are assigned special type IDs so that they aren't touched by the standard name resolution code. At documentation creation time, the dumpConsole functions iterate through the <a class="el" href="a03467.html">Namespace</a> hierarchy and the <a class="el" href="a02627.html">AbstractClassRep</a> data and extract this "hidden" information, outputting it in a Doxygen-compatible format.<p>
<dl compact><dt><b>Note:</b></dt><dd>You can customize the output of the console documentation system by modifying these functions:<ul>
<li>printClassHeader()</li><li>printClassMethod()</li><li>printGroupStart()</li><li>printClassMember()</li><li>printGroupEnd()</li><li>printClassFooter()</li></ul>
<p>
There was once support for 'overloaded' script functions; ie, script functions with multiple usage strings. Certain functions in the audio library used this. However, it was deemed too complex, and removed from the scripting engine. There are still some latent traces of it, however. </dd></dl>
  </td>
</tr>
</table>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div><div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Reference/console_autodoc.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:37:29 GMT -->
</html>
