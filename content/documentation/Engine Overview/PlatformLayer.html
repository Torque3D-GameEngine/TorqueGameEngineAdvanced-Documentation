<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Overview/PlatformLayer.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:36:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 12;
   parent.leftFrame.expandToItem('tree2', 'doc12');
   var element = parent.leftFrame.document.getElementById('doc12');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Platform Layer</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td>


<!-- Generated by Doxygen 1.5.4 -->
<h1><a class="anchor" name="PlatformLayer"><a class="el" href="../Engine%20Reference/a00936.html"></a></a><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a>Platform layer </h1><h2><a class="anchor" name="PlatformOverview"></a><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a>Overview</h2>
The platform layer is the foundation of Torque. Running at the lowest level, it provides a common cross platform, cross architecture interface to the system for the game. The platform layer is responsible for handling the details of file and network IO, graphics initialization, device initialization and input, and time event generation. Standard library calls are proxied through the platform layer, so that the game code can be safe from platform specific ideosyncracies.
<p>
System header files are (pretty much) only included from the platform library. The platform layer is broken up into several sections - the cross-platform interface exposed to the game (engine/platform), and the platform specific libraries (engine/platformWin32, engine/platformMacOS, engine/platformX86UNIX).<h2><a class="anchor" name="PlatformEvent"></a><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a>Event Model</h2>
The game is driven by a stream of events from the platform library. By journaling the stream of events from the platform layer, the game portion of the simulation session can be deterministically replayed for debugging purposes.<p>
The events used by the platform layer are all subclasses of Event:<ul>
<li>General Events<ul>
<li>TimeEvent</li><li><a class="el" href="../Engine%20Reference/a00849.html">QuitEvent</a></li><li>ConsoleEvent</li></ul>
</li><li><a class="el" href="../Engine%20Reference/a00563.html">Input</a> Events<ul>
<li>InputEvent</li><li>MouseMoveEvent</li></ul>
</li><li>Networking<ul>
<li>PacketReceiveEvent</li><li>ConnectedReceiveEvent</li><li>ConnectedAcceptEvent</li><li>ConnectedNotifyEvent</li></ul>
</li></ul>
<h2><a class="anchor" name="PlatformUtil"></a><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a>Platform Utilities</h2>
Torque has a number of powerful utility libraries in the platform layer:
<p>
<ul>
<li><b>Memory Manager</b> - Located in engine/platform/platformMemory.cc, this is designed to quickly allocate memory on cache aligned boundaries and perform debugging checks for overruns, multiple block frees and memory leaks.</li>
<li><b>The Profiler</b> is a hierarchal time analysis toolkit that allows specific portions of the game to be timed - useful for finding performance bottlenecks.</li><li><b>Thread management</b> Torque has utility classes for creating threads, mutexes and semaphores.</li>
<li><b>Standard library</b> All standard library functions are redefined as dFuncname, for example sprintf becomes dSprintf(), strcpy becomes dStrcpy(), etc. The dFunctions take full advantage of Torque's feature set, and are guaranteed to work in the same way across all platforms; the library functions they replace may not do so.</li>
</ul>
<h2><a class="anchor" name="PlatformNetwork"></a><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a>Network Functionality</h2>
The platform library has a common interface for opening and closing network ports, connecting to other hosts, translating network addresses and sending and receiving network data. TCP and UDP are supported.<h2><a class="anchor" name="PlatformGame"></a><a name = "HeaderLink5"></a><a name = "HeaderLink5"></a><a name = "HeaderLink5"></a>GameInterface</h2>
The GameInterface class, defined in engine/platform/gameInterface.h, is the interface through which the platform and libraries communicate with the game, as well as the main handler for journaling. All platform events are passed through GameInterface::processEvent(), which in turn feeds them to separate virtual event handlers. One and only one instance of this class (or a subclass) should exist in the program. A single global pointer named Game points to it.   </td>
</tr>
</table>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Overview/PlatformLayer.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:36:09 GMT -->
</html>