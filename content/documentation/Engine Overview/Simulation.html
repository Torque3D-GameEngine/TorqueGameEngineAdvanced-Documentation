<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Overview/Simulation.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:36:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../index.html";</SCRIPT><link href="../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 14;
   parent.leftFrame.expandToItem('tree2', 'doc14');
   var element = parent.leftFrame.document.getElementById('doc14');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Simulation</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td>


<!-- Generated by Doxygen 1.5.4 -->
<h1><a class="anchor" name="Simulation"></a><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a><a name = "HeaderLink0"></a>Simulation Manager</h1>
<h2><a class="anchor" name="SimOver"></a><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a><a name = "HeaderLink1"></a>Overview</h2>

<p>SimBase (engine/console/simBase.*) defines the foundation <a class="el" href="../Engine%20Reference/a01077.html" title="Base class for objects involved in the simulation.">SimObject</a> classes that form the basis of the simulation system.</p>
<p></p>SimObject is the base class for all objects that the console language can create and manipulate. All game classes (<a class="el" href="../Engine%20Reference/a00795.html">Player</a>, <a class="el" href="../Engine%20Reference/a00593.html">InteriorInstance</a>, Terrain, etc.) and GUI classes (<a class="el" href="../Engine%20Reference/a00426.html" title="A canvas on which rendering occurs.">GuiCanvas</a>, <a class="el" href="../Engine%20Reference/a00434.html">GuiControl</a>, etc). are all derived from SimObject. SimObject maintains the list of dynamic fields, has name and ID properties, and can register itself with a global object manager, as well as providing several other services.
<p>
A <a class="el" href="../Engine%20Reference/a01083.html" title="A set of SimObjects.">SimSet</a> is a simple collection of SimObjects. The set has console methods for adding and removing objects and iterating through the set.</p>
A <a class="el" href="../Engine%20Reference/a01072.html" title="A group of SimObjects.">SimGroup</a> is a derivative of SimSet that "owns" the objects in its collection. When a SimGroup object is destroyed, it destroys all of its members. GuiControl is derived from SimGroup - thus making the GUI a hierarchal set of objects.
<p>
<a class="el" href="../Engine%20Reference/a01068.html" title="Represents a queued event in the sim.">SimEvent</a> is a special class objects can use to send time-delayed messages to objects.<p>
SimManager (engine/console/simManager.cc) is a collection of functions for managing all of the objects and events in the simulation.<p>
<h2><a class="anchor" name="SimObjectAccess"></a><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a><a name = "HeaderLink2"></a>Accessing Objects within the Simulation</h2>
Objects are collected in a hierarchy of SimGroups and can be searched for by name or by object id.
<p>Within TorqueScript, objects can be referenced directly via an object ID (the unique identifier provided by the Simulation Manager when the object was registered with the simulation), or if the object was registered with a unique name, it can be referenced in TorqueScript by the name directly.</p>
<p>Internally, the Console will search through the objects within the Simulation Manager and return a reference to the object if it is found.</p>
<p>This type of search functionality is also available to us in C++, through the use of the call Sim::FindObject(), which returns a pointer to a SimObject if the object searched for was found, or NULL if the object is not registered with the simulation. Since all game world objects derive from the C++ class SimObject, we can then dynamically cast this pointer to any class that is appropriate, and utilize the object returned appropriately.</p>
<h2><a class="anchor" name="SimPersistanceInspection"></a><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a><a name = "HeaderLink3"></a>Persistence and Inspection</h2>
Objects in Torque can be saved to a script file using SimObject::save(). This basically dumps the current state of all the object's registered fields and dynamic fields, as well as, in the case of a SimGroup, all of that object's sub objects. GUIs and missions are examples of how the engine's editors save objects.
<p>
Objects' fields can also be modified in-game using the inspector, which a GUI window that shows the fields of an object and allows those fields to be changed and saved. Before new field values are to be saved to an object its onPreApply() method will be called, then the fields will be changed, then the object's onPostApply() method will be called.<h2><a class="anchor" name="SimUsefulConsole"></a><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a><a name = "HeaderLink4"></a>Useful Console Commands</h2>
There are several console commands that are useful to get an idea of what's going on in the system:<p>
<div class="fragment"><pre class="fragment">trace(<span class="keyword">true</span>);       <span class="comment">// Turns on console trace output, trace(false); to disable it.</span>
tree();            <span class="comment">// Displays a graphical hierarchy and object inspector for</span>
                   <span class="comment">// all objects currently registered in the system.</span>
<span class="keywordtype">object</span>.dump();     <span class="comment">// Dumps a list of all console commands and instance variables on an object.</span>
<span class="keyword">set</span>.listObjects(); <span class="comment">// Lists all of the objects in a set.</span>
</pre></div></tr>
</table>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tgea/official/content/documentation/Engine Overview/Simulation.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:36:10 GMT -->
</html>